{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "User Details",
  "description": "Schema for the response of the /userdetails/:userid endpoint. It provides a list of required fields associated with a user.",
  "type": "object",
  "properties": {
    "address": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Physical mailing address of the user."
    },
    "affiliate_reference": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Affiliate reference or identifier for tracking purposes."
    },
    "birth_date": {
      "type": "string",
      "format": "date",
      "message": {
        "format": "Field is required in DATE format. Can be left as an empty string"
      },
      "description": "User's birth date in YYYY-MM-DD format."
    },
    "city": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "City of the user's address."
    },
    "country": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Country of the user's residence."
    },
    "currency": {
      "type": "string",
      "description": "Preferred currency for the user's transactions.",
      "pattern": "^[A-Z]{3}$"
    },
    "email": {
      "type": "string",
      "format": "email",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Email address of the user."
    },
    "first_name": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "User's first name."
    },
    "is_blocked": {
      "type": "boolean",
      "message": {
        "format": "Field is required"
      },
      "description": "Indicates whether the user's account is blocked."
    },
    "is_excluded": {
      "type": "boolean",
      "message": {
        "format": "Field is required"
      },
      "description": "Flag to indicate if the user is excluded."
    },
    "language": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Preferred language of the user."
    },
    "last_name": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "User's last name."
    },
    "market": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Market or region the user is associated with."
    },
    "mobile": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "User's mobile phone number without country prefix"
    },
    "mobile_prefix": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Country prefix for the user's mobile phone number."
    },
    "origin": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Origin of the user's account or referral source. Typically this is the brand name"
    },
    "postal_code": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Postal code for the user's address."
    },
    "registration_code": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Registration code used during the user's account creation."
    },
    "registration_date": {
      "type": "string",
      "format": "date-time",
      "message": {
        "format": "Date and time of the user's account registration in RFC3339 format."
      },
      "description": "Date and time of the user's account registration in RFC3339 format."
    },
    "roles": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "message": {
        "format": "Field is required. Can be left as an empty array"
      },
      "description": "List of roles or permissions assigned to the user."
    },
    "sex": {
      "type": "string",
      "enum": [
        "male",
        "female",
        "other",
        ""
      ],
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "User's sex as specified in their profile."
    },
    "title": {
      "type": "string",
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "Title or honorific of the user."
    },
    "user_id": {
      "type": "string",
      "message": {
        "format": "Field is required."
      },
      "description": "Unique identifier for the user. Can either be an integer of GUID, kindly advise your integration manager if not using an integer"
    },
    "username": {
      "type": "string",
      "minLength": 3,
      "maxLength": 255,
      "message": {
        "format": "Field is required. Can be left as an empty string"
      },
      "description": "User's chosen username."
    },
    "verified_at": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp of when the user's account was verified, optional. In RFC3339 format.",
      "message": {
        "format": "Expected format 2023-03-02T8:27:58Z, given: {0}",
        "type": "expected string"
      }
    },
    "segmentation": {
      "type": "object",
      "description": "Optional segmentation information for the user. Kindly advide your integration manager before sending any custom segmentation fields",
      "properties": {
        "custom_segment": {
          "type": "string",
          "description": "Custom segment value for targeted marketing or analytics."
        }
      },
      "additionalProperties": true
    }
  },
  "required": [
    "address",
    "affiliate_reference",
    "birth_date",
    "city",
    "country",
    "currency",
    "email",
    "first_name",
    "is_blocked",
    "is_excluded",
    "language",
    "last_name",
    "market",
    "mobile",
    "mobile_prefix",
    "origin",
    "postal_code",
    "registration_code",
    "registration_date",
    "roles",
    "sex",
    "title",
    "user_id",
    "username",
    "verified_at"
  ],
  "additionalProperties": false
}